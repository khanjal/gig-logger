<div class="flex flex-col gap-4 text-[var(--color-text-primary)]" (click)="$event.stopPropagation()">
  <div class="flex flex-wrap items-center gap-3 justify-between w-full">
    <div class="flex items-center gap-2 text-sm font-semibold text-[var(--color-text-primary)]">
      <mat-icon class="text-base">autorenew</mat-icon>
      Auto-save
    </div>
    <mat-slide-toggle
      color="primary"
      [checked]="autoSaveEnabled"
      [disabled]="status === 'syncing'"
      (change)="onAutoSaveToggle($event)">
      <span class="text-sm text-[var(--color-text-primary)]">{{ autoSaveEnabled ? 'On' : 'Off' }}</span>
    </mat-slide-toggle>
  </div>

  <div class="flex flex-wrap items-center gap-3 justify-between w-full">
    <div class="flex items-center gap-2 text-sm font-semibold text-[var(--color-text-primary)]">
      <mat-icon class="text-base">palette</mat-icon>
      Theme
    </div>
    <app-base-rect-button
      variant="outlined"
      [icon]="'sync'"
      iconPosition="left"
        (clicked)="onThemeCycle()"
      class="theme-cycle-btn"
    >
      {{ themePreference | titlecase }} mode
    </app-base-rect-button>
  </div>

  <div class="flex flex-wrap items-center gap-2">
    <app-base-rect-button
      *ngIf="hasUnsavedChanges"
      variant="primary"
      [icon]="'save'"
      iconPosition="left"
      [fullWidth]="true"
      [disabled]="status === 'syncing'"
        (clicked)="onSaveClick()"
    >
      Save
    </app-base-rect-button>

    <app-base-rect-button
      *ngIf="!hasUnsavedChanges"
      variant="primary"
      [icon]="'cloud_download'"
      iconPosition="left"
      [fullWidth]="true"
      [disabled]="status === 'syncing'"
        (clicked)="onRefreshClick()"
    >
      Update
    </app-base-rect-button>
  </div>
</div>
