@use '../../../styles/color-vars.scss' as colors;

// Enhanced mobile keyboard handling - forces proper viewport adjustment 
:host {
  @media (max-width: 768px) {
    // Ensure proper height calculation when virtual keyboard appears
    min-height: 100vh;
    min-height: -webkit-fill-available; // iOS Safari fix
  }
}

// Global viewport fix for virtual keyboard on older Android devices
@media (max-width: 768px) {
  :host {
    // Force viewport recalculation when keyboard appears/disappears
    transform: translateZ(0); // Trigger hardware acceleration
    -webkit-transform: translateZ(0);
  }
  
  // Fix for older Android devices - forces resize event
  body.keyboard-open {
    height: 100vh !important;
    overflow: hidden !important;
  }
}

// Hide checkmarks in shift dropdown
::ng-deep .mat-pseudo-checkbox {
  display: none !important;
}

.address-button--selected, .name-button--selected {
  background-color: color-mix(in srgb, var(--primary-500) 10%, transparent) !important;
  border-color: color-mix(in srgb, var(--primary-500) 20%, transparent) !important;
  color: var(--primary-600) !important;
  font-weight: 500;
}

.address-button:not(.address-button--selected):hover,
.name-button:not(.name-button--selected):hover {
  background-color: color-mix(in srgb, var(--primary-500) 10%, transparent);
  border-color: color-mix(in srgb, var(--primary-500) 20%, transparent);
}

// Global keyboard-open state for viewport adjustments (handled by focus-scroll directive)
:global(body.keyboard-open) {
  @media (max-width: 768px) {
    // Force hardware acceleration for smoother scrolling
    transform: translateZ(0);
    
    // Ensure the viewport is properly sized
    min-height: -webkit-fill-available;
  }
}

/* Remove mat-accordion and mat-expansion-panel borders for seamless look */
::ng-deep .mat-accordion .mat-expansion-panel,
::ng-deep .mat-expansion-panel {
  box-shadow: none !important;
  border: none !important;
}
::ng-deep .mat-expansion-panel:not(:last-child) {
  border-bottom: none !important;
}
::ng-deep .mat-expansion-panel-header {
  border-bottom: none !important;
}

.button-disabled {
  opacity: 0.5 !important;
  pointer-events: none;
  filter: grayscale(60%);
  cursor: not-allowed !important;
}