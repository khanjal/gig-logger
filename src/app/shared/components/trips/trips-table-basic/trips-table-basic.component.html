<div class="table-container">
    <div class='table-responsive' #tableContainer>
        <mat-table [dataSource]="trips" multiTemplateDataRows class="table-fit-container table-compact">
            <ng-container matColumnDef="date">
                <mat-header-cell *matHeaderCellDef class="table-col-time date-compact"> Date </mat-header-cell>
                <mat-cell *matCellDef="let trip" class="table-col-time date-compact"> {{trip.date | date:'YY MMM d'}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="service">
                <mat-header-cell *matHeaderCellDef class="table-col-service"> Service </mat-header-cell>
                <mat-cell *matCellDef="let trip" class="table-col-service"> {{trip.service}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="place">
                <mat-header-cell *matHeaderCellDef class="table-col-address"> Place </mat-header-cell>
                <mat-cell *matCellDef="let trip" class="table-col-address"> {{trip.place | truncate:75}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="tips">
                <mat-header-cell *matHeaderCellDef class="table-col-currency tips-compact">Tips</mat-header-cell>
                <mat-cell *matCellDef="let trip" class="table-col-currency tips-compact" [ngClass]="{'tip-none': (trip.tip + trip.cash) === 0, 'tip-good': (trip.tip + trip.cash) >= 5}"> {{trip.tip + trip.cash | currency}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="secondary">
                <td mat-cell [attr.colspan]="displayedColumns.length"
                    *matCellDef="let trip">
                    <span *ngIf="trip.endUnit"><strong>Apt/Unit:</strong> {{trip.endUnit}}</span>
                    <span *ngIf="trip.endUnit && trip.note">, </span>
                    <span *ngIf="trip.note"><em>"{{trip.note}}"</em></span>
                </td>
            </ng-container>
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; let i = dataIndex; columns: displayedColumns;" class="alt-row" [ngClass]="i%2===0 ? 'even' : 'odd'"></mat-row>
            <mat-row *matRowDef="let row; let i = dataIndex; columns: ['secondary'];" class="alt-row" [ngClass]="i%2===0 ? 'even' : 'odd'"></mat-row>
        </mat-table>
    </div>
</div>