<div class="trips-container">
    <div class='table-responsive'>
        <mat-table [dataSource]="trips" multiTemplateDataRows>
            <ng-container matColumnDef="date">
                <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
                <mat-cell *matCellDef="let trip"> '{{trip.date | date:'YY MMM d'}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="service">
                <mat-header-cell *matHeaderCellDef> Service </mat-header-cell>
                <mat-cell *matCellDef="let trip"> {{trip.service}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="place">
                <mat-header-cell *matHeaderCellDef> Place </mat-header-cell>
                <mat-cell *matCellDef="let trip"> {{trip.place | truncate:15}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="tips">
                <mat-header-cell *matHeaderCellDef>Tips</mat-header-cell>
                <mat-cell *matCellDef="let trip" [ngClass]="(trip.tip + trip.cash) == 0 ? 'no-tip' : ''"> {{trip.tip + trip.cash | currency}} </mat-cell>
            </ng-container>
            <ng-container matColumnDef="secondary">
                <td mat-cell [attr.colspan]="displayedColumns.length"
                    *matCellDef="let trip">
                    <span *ngIf="trip.endUnit"><strong>Apt/Unit:</strong> {{trip.endUnit}}</span>
                    <span *ngIf="trip.endUnit && trip.note">, </span>
                    <span *ngIf="trip.note"><em>"{{trip.note}}"</em></span>
                </td>
            </ng-container>
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; let i = dataIndex; columns: displayedColumns;" class="alt-row" [ngClass]="i%2===0 ? 'even' : 'odd'"></mat-row>
            <mat-row *matRowDef="let row; let i = dataIndex; columns: ['secondary'];" class="alt-row" [ngClass]="i%2===0 ? 'even' : 'odd'"></mat-row>
        </mat-table>
    </div>
</div>