<div class="container mx-auto p-4 max-w-4xl">
    <div class="flex flex-wrap gap-4 mb-6 items-center justify-between">
        <h1 class="text-2xl font-bold flex-1">Stats</h1>
        <mat-form-field appearance="outline" class="w-[250px] md:ml-auto">
            <mat-label>Select a date range</mat-label>
            <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                <input matStartDate formControlName="start" placeholder="Start date" (dateChange)="dateChanged()" />
                <input matEndDate formControlName="end" placeholder="End date" (dateChange)="dateChanged()" />
            </mat-date-range-input>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker
                #picker
                [calendarHeaderComponent]="CustomCalendarHeaderComponent"
            ></mat-date-range-picker>
        </mat-form-field>
    </div>
    
    <app-stats-summary [trips]="trips" [startDate]="startDate" [endDate]="endDate"></app-stats-summary>
    
    <app-stats-table [items]="services" name="Services"></app-stats-table>
    <app-stats-table [items]="regions" name="Regions" *ngIf="regions.length > 0"></app-stats-table>
    <app-stats-table [items]="types" name="Types"></app-stats-table>
    <app-stats-table [items]="places" name="Places"></app-stats-table>
</div>
