<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-6 text-blue-700">Shift & Trip Metrics</h1>

  <div class="flex flex-wrap gap-4 mb-6 items-center">
    <mat-form-field appearance="outline" class="w-80 max-w-full min-w-[180px] md:w-1/2 md:ml-auto">
      <mat-label>Select a date range</mat-label>
      <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
        <input matStartDate formControlName="start" placeholder="Start date" (dateChange)="filterByDate()" />
        <input matEndDate formControlName="end" placeholder="End date" (dateChange)="filterByDate()" />
      </mat-date-range-input>
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-date-range-picker 
        #picker
        [calendarHeaderComponent]="CustomCalendarHeaderComponent"></mat-date-range-picker>
    </mat-form-field>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div class="bg-white rounded-lg shadow p-4">
      <h2 class="text-lg font-semibold mb-2">Total Trips</h2>
      <canvas baseChart
        [data]="tripsData"
        [options]="barOptions"
        [type]="'bar'"
        class="w-full h-64"></canvas>
    </div>
    <div class="bg-white rounded-lg shadow p-4">
      <h2 class="text-lg font-semibold mb-2">Total Distance</h2>
      <canvas baseChart
        [data]="distanceData"
        [options]="lineOptions"
        [type]="'line'"
        class="w-full h-64"></canvas>
    </div>
    <div class="bg-white rounded-lg shadow p-4 md:col-span-2">
      <h2 class="text-lg font-semibold mb-2">Total Pay</h2>
      <canvas baseChart
        [data]="payData"
        [options]="barOptions"
        [type]="'bar'"
        class="w-full h-64"></canvas>
    </div>
    <div class="bg-white rounded-lg shadow p-4 md:col-span-2">
      <h2 class="text-lg font-semibold mb-2">Daily Earnings (Selected Week)</h2>
      <canvas baseChart
        [data]="dailyEarningsData"
        [options]="barOptions"
        [type]="'bar'"
        class="w-full h-64"></canvas>
    </div>
    <div class="bg-white rounded-lg shadow p-4 md:col-span-2">
      <h2 class="text-lg font-semibold mb-2">Service Distribution (Pie)</h2>
      <canvas baseChart
        [data]="servicePieData"
        [options]="pieOptions"
        [type]="'pie'"
        class="w-full h-64"></canvas>
    </div>
  </div>
</div>
