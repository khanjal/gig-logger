{
  "widgets": [
    {
      "type": "metric",
      "x": 0,
      "y": 0,
      "width": 8,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "API.TotalCalls" ],
          [ ".", "User.TotalActivity" ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Overall Activity",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Count",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 8,
      "y": 0,
      "width": 8,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "sheets-all.Success" ],
          [ ".", "sheets-single.Success" ],
          [ ".", "sheets-multiple.Success" ],
          [ ".", "sheets-create.Success" ],
          [ ".", "sheets-save.Success" ],
          [ ".", "sheets-health.Success" ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Sheets Operations Success",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Count",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 16,
      "y": 0,
      "width": 8,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "sheets-all.Error" ],
          [ ".", "sheets-single.Error" ],
          [ ".", "sheets-multiple.Error" ],
          [ ".", "sheets-create.Error" ],
          [ ".", "sheets-save.Error" ],
          [ ".", "sheets-health.Error" ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Sheets Operations Errors",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Errors",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 6,
      "width": 12,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "sheets-all.Duration" ],
          [ ".", "sheets-single.Duration" ],
          [ ".", "sheets-multiple.Duration" ],
          [ ".", "sheets-create.Duration" ],
          [ ".", "sheets-save.Duration" ],
          [ ".", "sheets-health.Duration" ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Sheets Operation Performance",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Milliseconds",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 6,
      "width": 12,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "places-autocomplete.Success" ],
          [ ".", "places-autocomplete.Error" ],
          [ ".", "places-autocomplete.Duration" ],
          [ ".", "places-details.Success" ],
          [ ".", "places-details.Error" ],
          [ ".", "places-details.Duration" ],
          [ ".", "places-usage.Success" ],
          [ ".", "places-usage.Error" ],
          [ ".", "places-usage.Duration" ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Places API Operations",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Count/ms",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 12,
      "width": 8,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "auth-authenticate.Success" ],
          [ ".", "auth-authenticate.Error" ],
          [ ".", "auth-authenticate.Duration" ],
          [ ".", "auth-refresh.Success" ],
          [ ".", "auth-refresh.Error" ],
          [ ".", "auth-refresh.Duration" ],
          [ ".", "auth-clear.Success" ],
          [ ".", "auth-clear.Error" ],
          [ ".", "auth-clear.Duration" ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Authentication Operations",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Count/ms",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 8,
      "y": 12,
      "width": 8,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "files-list.Success" ],
          [ ".", "files-list.Error" ],
          [ ".", "files-list.Duration" ],
          [ ".", "files-create.Success" ],
          [ ".", "files-create.Error" ],
          [ ".", "files-create.Duration" ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Files Operations",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Count/ms",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 16,
      "y": 12,
      "width": 8,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "Error.QuotaExceeded" ],
          [ ".", "Error.GeneralError" ],
          [ ".", "Error.AuthenticationFailed" ],
          [ ".", "Error.TokenRefreshFailed" ],
          [ ".", "Error.ListSheetsError" ],
          [ ".", "Error.CreateSheetError" ],
          [ ".", "RateLimit.Hit" ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Error Types & Rate Limits",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Errors",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 18,
      "width": 12,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "User.sheets-all" ],
          [ ".", "User.sheets-single" ],
          [ ".", "User.sheets-multiple" ],
          [ ".", "User.sheets-create" ],
          [ ".", "User.sheets-save" ],
          [ ".", "User.sheets-health" ],
          [ ".", "User.places-autocomplete" ],
          [ ".", "User.places-details" ],
          [ ".", "User.places-usage" ],
          [ ".", "User.files-list" ],
          [ ".", "User.files-create" ],
          [ ".", "User.auth-authenticate" ],
          [ ".", "User.auth-refresh" ],
          [ ".", "User.auth-clear" ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "User Activity by Operation",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Activity Count",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 18,
      "width": 12,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "Places.Autocomplete.QueryLength" ],
          [ ".", "Files.List.Count" ],
          [ ".", "Files.Create.Success" ],
          [ ".", "Auth.Success" ],
          [ ".", "Auth.Failed" ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Custom Business Metrics",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Count/Length",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 0,
      "y": 24,
      "width": 12,
      "height": 6,
      "properties": {
        "metrics": [
          [ "AWS/Lambda", "Duration", "FunctionName", "raptor-gig-service" ],
          [ ".", "Invocations", ".", "." ],
          [ ".", "Errors", ".", "." ],
          [ ".", "Throttles", ".", "." ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Lambda Function Health",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Count/ms",
            "min": 0
          }
        }
      }
    },
    {
      "type": "metric",
      "x": 12,
      "y": 24,
      "width": 12,
      "height": 6,
      "properties": {
        "metrics": [
          [ "RaptorGig/Lambda", "sheets-all.Duration", { "stat": "Average" } ],
          [ ".", "places-autocomplete.Duration", { "stat": "Average" } ],
          [ ".", "auth-authenticate.Duration", { "stat": "Average" } ],
          [ ".", "files-list.Duration", { "stat": "Average" } ],
          [ ".", "files-create.Duration", { "stat": "Average" } ]
        ],
        "view": "timeSeries",
        "stacked": false,
        "region": "us-east-1",
        "title": "Average Response Times by Endpoint",
        "period": 300,
        "yAxis": {
          "left": {
            "label": "Milliseconds",
            "min": 0
          }
        }
      }
    },
    {
      "type": "log",
      "x": 0,
      "y": 30,
      "width": 24,
      "height": 6,
      "properties": {
        "query": "SOURCE '/aws/lambda/raptor-gig-service'\n| fields @timestamp, @message\n| filter @message like /ðŸ“Š/\n| sort @timestamp desc\n| limit 20",
        "region": "us-east-1",
        "title": "Recent Metrics Activity",
        "view": "table"
      }
    },
    {
      "type": "log",
      "x": 0,
      "y": 36,
      "width": 24,
      "height": 6,
      "properties": {
        "query": "SOURCE '/aws/lambda/raptor-gig-service'\n| fields @timestamp, @message\n| filter @message like /ERROR/ or @message like /Failed/ or @message like /Error/\n| sort @timestamp desc\n| limit 20",
        "region": "us-east-1",
        "title": "Recent Errors",
        "view": "table"
      }
    }
  ]
}
